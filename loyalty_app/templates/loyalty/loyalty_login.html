{% extends "customer_base_login.html" %}

{% block content %}

{% if messages %}
<div class="alert alert-danger alert-dismissible">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
    {% for message in messages %}
    <span class="lh-1">{{ message }}</span>
    {% endfor %}
</div>
{% endif %}

<form method="post" action="{% url 'loyalty_login' %}" id="form-base" novalidate>
    {% csrf_token %}
    <div class="input-group mb-3">
        <input type="text" name="mobile" class="form-control" placeholder="Mobile number" autocomplete="on" />
    </div>
    <div class="input-group mb-3">
        <input type="password" id="password" name="password" class="form-control" placeholder="Password"/>
        <div class="input-group-append">
            <div class="input-group-text">
              <span id="eyeicon"><i class="fas fa-eye-slash" style="width:17px"></i></span>
            </div>
        </div>
    </div>
    <div class="input-group mb-3">
        <button type="submit" class="btn btn-success btn-block btn-lg mb-2">Login</button>
    </div>
</form>

{% endblock content %}

{% block script %}
<script>
        let eyeicon = document.getElementById("eyeicon");
        let password = document.getElementById("password");

        eyeicon.addEventListener("click", function() {
            if (password.type === "password") {
                password.type = "text";
                eyeicon.innerHTML = '<i class="fas fa-eye"></i>';
            } else {
                password.type = "password";
                eyeicon.innerHTML = '<i class="fas fa-eye-slash"></i>';
            }
        });

</script>
{% endblock script %}
