{% extends "base.html" %}

{% block page_title %}  {% for redeem in redeemed_list %}
                            Patient: {{ redeem.user.first_name }} {{ redeem.user.last_name }}
                        {% endfor %}
{% endblock page_title %}
{% block content %}

<section class="content">
    <div class="container-fluid">
         <div class="row">
            <div class="col-12">
                {% if messages %}
                <div class="alert alert-success alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
                    {% for message in messages %}
                    <span class="lh-1">{{ message }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="card card-primary card-outline">
            <div class="card-header">
                <h3 class="card-title">Patient Redeemed Points</h3>
            </div>
             <div class="card-body">
                  <table id="patient_info-table" class="table table-striped projects">
                     <thead>
                        <tr>
                            <th>ID</th>
                            <th>POINTS REDEEMED</th>
                            <th>DATE REDEEMED</th>
                        </tr>
                     </thead>
                     <tbody>
                         {% for redeem in redeemed_list %}
                        <tr>
                            <th>{{ redeem.id }}</th>
                            <td>{{ redeem.redeemed_points }}</td>
                            <td>{{ redeem.date_redeemed }}</td>
                        </tr>
                        {% endfor %}
                     </tbody>
                  </table>
             </div>
        </div>
    </div>
        <!-- /.container-fluid -->
</section>
<!-- /.content -->

{% endblock content %}


{% block script %}
    <script>
      $(function () {
        $('#patient_info-table').DataTable({
          "paging": true,
          "lengthChange": false,
          "searching": true,
          "ordering": false,
          "info": true,
          "autoWidth": false,
          "responsive": true,
          "pageLength": 10,
        });
      });
    </script>
{% endblock script %}